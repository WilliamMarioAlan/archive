# config vim

### 1.为更好地使用Vim，可以为`root`用户和普通用户设置通用配置。

```bash
sudo vim /etc/vim/vimrc #编辑vimrc文件（所有用户通用
或者
vim ~/.vimrc #或者编辑单个用户的配置文件
```

在 Vim 中，`tabstop` 和 `shiftwidth` 是控制缩进和制表符行为的重要配置选项，尤其对代码编辑和排版有很大的影响。

---

## **1. `tabstop`**

- **作用**：
定义一个 **`Tab` 字符显示的宽度**，即一个 `Tab` 被展示为多少个空格的宽度。
- **默认值**：
通常为 `8`。
- **设置方法**：

这表示一个 `Tab` 显示为 4 个空格宽度。
    
    ```
    :set tabstop=4
    ```
    
- **影响**：
    - 只影响 `Tab` 的显示宽度，文件中实际仍是 `Tab` 字符。
    - 改变的是 `Tab` 在 Vim 中的可视化效果，文件内容不会因 `tabstop` 的变化而改变。

---

## **2. `shiftwidth`**

- **作用**：
定义 **缩进操作时使用的宽度**，即执行缩进命令（如 `>>` 或 `<<`）时，插入或删除多少个空格。
- **默认值**：
通常为 `8`。
- **设置方法**：

这表示缩进时每次增加或减少 4 个空格。
    
    ```
    :set shiftwidth=4
    ```
    
- **影响**：
    - 决定代码缩进的宽度，与 `tabstop` 无直接关系。
    - 在配合 `autoindent` 或 `smartindent` 使用时，影响自动缩进的宽度。

---

## **3. 配合使用**

`tabstop` 和 `shiftwidth` 通常一起使用，确保制表符和缩进行为一致。

### 常见组合：

1. **代码中使用空格作为缩进（推荐，符合大多数代码规范）：**
    
    ```
    set tabstop=4        " 一个Tab显示为4个空格
    set shiftwidth=4     " 缩进宽度为4个空格
    set expandtab        " Tab键插入空格而非Tab字符
    
    ```
    
2. **代码中使用 `Tab` 字符（适合某些简单项目）：**
    
    ```
    set tabstop=4        " 一个Tab显示为4个空格
    set shiftwidth=4     " 缩进宽度为4个字符
    set noexpandtab      " 使用Tab字符而不是空格
    
    ```
    

---

## **4. 区别总结**

| **选项** | **作用** | **影响范围** |
| --- | --- | --- |
| `tabstop` | 控制 `Tab` 字符显示的宽度（仅视觉效果） | 文件中仍保留实际的 `Tab` 字符 |
| `shiftwidth` | 控制缩进命令（如 `>>` 或 `<<`）的空格数量 | 决定缩进操作插入或删除的空格数量 |
| `expandtab` | 控制是否将 `Tab` 键转换为空格 | 影响文件中是 `Tab` 还是空格 |

---

## **5. 测试和验证**

- **测试显示宽度（`tabstop`）**：
输入以下命令查看 `Tab` 字符的显示效果：
    
    ```
    :set tabstop=4
    ```
    
    插入一些 `Tab`（按下 `Tab` 键），观察其显示宽度。
    
- **测试缩进宽度（`shiftwidth`）**：
输入以下命令后，用 `>>` 和 `<<` 测试缩进宽度：
    
    ```
    :set shiftwidth=4
    ```
    
- **检查文件内容是否为 `Tab` 或空格**：
    1. 打开一个文件。
    2. 使用以下命令查看文件内容的实际字符：
        
        ```
        :set list
        ```
        
        - `^I` 表示 `Tab` 字符。
        - `·` 表示空格。

---

通常建议使用 `tabstop` 和 `shiftwidth` 设置为相同的值，同时启用 `expandtab`，以保证代码格式的统一性，特别是多开发者协作时。