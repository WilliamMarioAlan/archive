# introduction

在 **Git** 中，“分区”是指代码管理的不同区域，包括工作目录（Working Directory）、暂存区（Stage/Index）、以及本地仓库（Local Repository）。理解这些区域是学习和使用 Git 的核心，因为它们定义了代码在版本控制中的流转过程。

下面从概念、作用以及使用方法详细介绍 Git 的分区：

---

### **Git 分区概念**

1. **工作目录（Working Directory）**
    - **定义**：工作目录是用户实际操作的文件夹，是存放项目的实际文件的地方。它包含所有的项目文件，包括未被 Git 管理的文件和已经被管理的文件。
    - **状态**：
        - **已跟踪的文件**：文件已经被 Git 记录在库中，可以被版本控制。
        - **未跟踪的文件**：文件未被 Git 管理，通常是新创建或忽略的文件。
    - **操作**：
        - 编辑文件、创建文件或删除文件都发生在工作目录。
2. **暂存区（Stage/Index）**
    - **定义**：暂存区是一个中间区域，存储的是即将提交到本地仓库的文件快照。你可以选择性地将修改的文件加入暂存区。
    - **作用**：
        - 准备提交：用户可以选择哪些文件或哪些改动将被提交。
        - 提供灵活性：允许多次修改后仅提交一部分内容。
    - **操作**：
        - `git add` 命令将文件从工作目录添加到暂存区。
        - 用户可以反复更新暂存区内容，直到对提交内容满意为止。
3. **本地仓库（Local Repository）**
    - **定义**：本地仓库是存储在 `.git` 文件夹中的区域，用于保存所有提交的历史记录和对象。
    - **作用**：
        - 提供完整的项目历史：包括所有提交的记录。
        - 版本控制：可以对代码进行版本切换、回滚等操作。
    - **操作**：
        - `git commit` 将暂存区的内容提交到本地仓库。
        - 用户可以查看提交记录（`git log`）并在不同版本间切换（`git checkout`）。
4. **远程仓库（Remote Repository）**
    - **定义**：远程仓库是托管在服务器上的仓库，用于多人协作。
    - **作用**：
        - 用于团队合作时的版本共享。
        - 实现备份功能。
    - **操作**：
        - 使用 `git push` 上传本地仓库内容到远程仓库。
        - 使用 `git pull` 从远程仓库拉取最新代码。

---

### **分区之间的流转**

Git 的工作流可以简化为以下步骤：

1. **工作目录 → 暂存区**：
    - 修改工作目录中的文件后，使用 `git add <file>` 将文件的快照加入暂存区。
2. **暂存区 → 本地仓库**：
    - 使用 `git commit -m "message"` 提交暂存区内容到本地仓库，创建一个新的版本。
3. **本地仓库 → 远程仓库**：
    - 使用 `git push origin <branch>` 将本地仓库的更改推送到远程仓库。
4. **远程仓库 → 本地仓库/工作目录**：
    - 使用 `git pull` 或 `git fetch` 拉取远程仓库的更新到本地。

---

### **Git 分区的状态查询**

Git 提供了多种工具来查看文件在分区之间的状态：

1. **查看文件状态**
    
    ```bash
    git status
    ```
    
    - 显示工作目录和暂存区中文件的状态（已跟踪、未跟踪、修改等）。
2. **查看工作目录和暂存区的差异**
    
    ```bash
    git diff
    ```
    
    - 显示工作目录与暂存区之间的差异。
3. **查看暂存区和本地仓库的差异**
    
    ```bash
    git diff --cached
    ```
    
    - 显示暂存区与上一次提交（本地仓库）的差异。